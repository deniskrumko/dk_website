{% load static i18n %}

<div class="menu container pure-g">

  {# Logo #}

  <div class="pure-u-6-24 pure-u-sm-3-24">
    <a href="{% url 'main:index' %}">
      <img src="{% static 'images/logo.png' %}" alt="DK" id="menu-logo">
    </a>
  </div>

  {# Mobile #}

  <div class="pure-u-18-24 pure-u-sm-21-24 md-visible mobile-menu">
    <a href="{% url 'blog:index' %}" title="Блог">
      {% if active_menu == 'blog' %}
      <img src="{% static 'images/menu/blog_2.svg' %}" alt="">
      {% else %}
      <img src="{% static 'images/menu/blog.svg' %}" alt="">
      {% endif %}
    </a>
    <a href="{% url 'music:index' %}" title="Музыка">
      {% if active_menu == 'music' %}
      <img src="{% static 'images/menu/music_2.svg' %}" alt="">
      {% else %}
      <img src="{% static 'images/menu/music.svg' %}" alt="">
      {% endif %}
    </a>
    {% if request.user.is_staff %}
    <a href="{% url 'diary:index' %}" title="Дневник">
      {% if active_menu == 'diary' %}
      <img src="{% static 'images/menu/diary_2.svg' %}" alt="">
      {% else %}
      <img src="{% static 'images/menu/diary.svg' %}" alt="">
      {% endif %}
    </a>
    {% endif %}
    {% if request.user.is_authenticated %}
    <a href="{% url 'users:profile' %}" title="Настройки">
      {% if active_menu == 'login' %}
      <img src="{% static 'images/menu/settings_2.svg' %}" alt="">
      {% else %}
      <img src="{% static 'images/menu/settings.svg' %}" alt="">
      {% endif %}
    </a>
    {% else %}
    <a href="{% url 'users:login' %}" title="Войти">
      {% if active_menu == 'login' %}
      <img src="{% static 'images/menu/auth_2.svg' %}" alt="">
      {% else %}
      <img src="{% static 'images/menu/auth.svg' %}" alt="">
      {% endif %}
    </a>
    {% endif %}
  </div>

  {# Desktop menu #}

  <div class="pure-u-18-24 pure-u-sm-15-24 md-hidden">
    <div id="menu-left-gradient"></div>
    <div id="menu-right-gradient"></div>
    <div id="menu-items" class="pure-menu pure-menu-horizontal pure-menu-scrollable">
      <ul class="pure-menu-list">
        <li class="pure-menu-item">
          <a href="{% url 'main:index' %}"
          class="pure-menu-link {% if active_menu == 'index' %}colored bold{% endif %}">
            ГЛАВНАЯ
          </a>
        </li>
        <li class="pure-menu-item">
          <a href="{% url 'blog:index' %}"
          class="pure-menu-link {% if active_menu == 'blog' %}colored bold{% endif %}">
            БЛОГ
          </a>
        </li>
        {% if request.user.is_staff %}
        <li class="pure-menu-item">
          <a href="{% url 'diary:index' %}"
          class="pure-menu-link {% if active_menu == 'diary' %}colored bold{% endif %}">
            ДНЕВНИК
          </a>
        </li>
        {% endif %}
        <li class="pure-menu-item">
          <a href="{% url 'music:index' %}"
          class="pure-menu-link {% if active_menu == 'music' %}colored bold{% endif %}">
            МУЗЫКА
          </a>
        </li>
        <li class="pure-menu-item sm-visible">
          {% if request.user.is_authenticated %}
          <a href="{% url 'admin:index' %}"
          class="pure-menu-link {% if active_menu == 'login' %}colored bold{% endif %}">
          НАСТРОЙКИ
          </a>
          {% else %}
          <a href="{% url 'users:login' %}"
          class="pure-menu-link {% if active_menu == 'login' %}colored bold{% endif %}">
            ВОЙТИ В АККАУНТ
          </a>
          {% endif %}
        </li>
      </ul>
    </div>
  </div>

  {# Right menu #}

  <div id="auth-btn" class="pure-u-sm-6-24 md-hidden">
    {% if request.user.is_authenticated %}
      {% if request.user.image %}
      <a href="{% url 'users:profile' %}">
      <img src="{{ request.user.image_small.url }}" alt="image" id="user-image">
      </a>
      {% else %}
      <a class="btn" id="login-btn" href="{% url 'users:profile' %}">
      {{ request.user.username }}
      </a>
      {% endif %}
    {% elif active_menu != 'login' %}
    <a class="btn primary"
    id="login-btn" href="{% url 'users:login' %}">
      {% trans "Login" %}
    </a>
    {% endif %}
  </div>
</div>
